---
import DocLayout from "@docs/layouts/DocLayout.astro";
import Preview from "@docs/components/Preview.astro";
import PropsTable from "@docs/components/PropsTable.astro";
import { components } from "@docs/data/components.js";
import PhotoRoll from "@lib/components/PhotoRoll/PhotoRoll.astro";
import Image from "@lib/components/Image/Image.astro";
import Hero from "@lib/components/Hero/Hero.astro";
import ContactForm from "@lib/components/ContactForm/ContactForm.astro";

const propsTable = [
  { name: "id", type: "string", description: "Optional id for the root element." },
  { name: "class", type: "string", description: "Additional class names." },
  { name: "style", type: "string", description: "Inline styles for the root element." },
  {
    name: "orientation",
    type: `"horizontal" | "vertical"`,
    default: '"horizontal"',
    description: "Scroll direction."
  },
  {
    name: "images",
    type: "Array<{ url: string; description?: string }>",
    description: "Provide images directly; when set, slots are ignored and the array renders images."
  },
  {
    name: "showNextButton",
    type: "boolean",
    default: "false",
    description: "Displays the right-side next control."
  },
  {
    name: "nextIcon",
    type: "string",
    default: '"arrow-right"',
    description: "Icon name for the next control."
  },
  {
    name: "nextIconSize",
    type: "string",
    description: "Icon size passed to the Icon component (sm | md | lg | CSS length)."
  },
  {
    name: "showBullets",
    type: "boolean",
    default: "false",
    description: "Displays bullet pagination at the bottom."
  },
  {
    name: "autoplay",
    type: "boolean",
    default: "false",
    description: "Automatically advances slides; shows play/pause control."
  },
  {
    name: "autoplayInterval",
    type: "number",
    default: "5000",
    description: "Interval in ms between autoplay moves (must be greater than 0)."
  }
];

const styleVars = [
  { name: "--photoroll-height", default: "50vh", description: "Overall component height." },
  { name: "--photoroll-dim", default: "0.7", description: "Brightness for inactive slides." },
  { name: "--photoroll-bright", default: "1", description: "Brightness for the first/active slide." },
  {
    name: "--photoroll-glow",
    default: "drop-shadow(0 0 0.35rem rgba(0, 0, 0, 0.35))",
    description: "Filter applied to images."
  },
  { name: "--photoroll-control-size", default: "44px", description: "Control hit target size." },
  { name: "--photoroll-control-bg", default: "rgba(0, 0, 0, 0.65)", description: "Control background." },
  { name: "--photoroll-control-color", default: "white", description: "Control icon color." },
  { name: "--photoroll-control-shadow", default: "0 4px 12px rgba(0, 0, 0, 0.35)", description: "Control shadow." },
  { name: "--photoroll-control-offset", default: "1rem", description: "Inset from the edges for controls." },
  { name: "--photoroll-control-z", default: "2", description: "Stacking context for controls." },
  { name: "--photoroll-bullet-size", default: "10px", description: "Bullet diameter." },
  { name: "--photoroll-bullet-gap", default: "0.5rem", description: "Spacing between bullets." },
  { name: "--photoroll-bullet-color", default: "rgba(255, 255, 255, 0.55)", description: "Bullet color." },
  { name: "--photoroll-bullet-active-color", default: "white", description: "Active bullet color." },
  { name: "--photoroll-bullets-offset", default: "1rem", description: "Bottom inset for the bullet row." },
  {
    name: "--photoroll-next-rotation",
    default: "0deg (horizontal) / 90deg (vertical)",
    description: "Rotation applied to the next icon based on orientation."
  },
  {
    name: "--photoroll-zoom",
    default: "1.03",
    description: "Base scale applied to images for a subtle zoom-in effect."
  },
  {
    name: "--photoroll-zoom-active",
    default: "1.07",
    description: "Scale applied to the active image for the zoom effect."
  },
  {
    name: "--photoroll-zoom-duration",
    default: "10s",
    description: "Duration of the active image zoom animation."
  }
];

const defaultCode = "<PhotoRoll />";
const customCode = '<PhotoRoll id="photo-roll-sample" />';
const photoroll = await fetch("https://boringapi.com/api/v1/photos");
const data = await photoroll.json();
const imagesArray=data.photos.map(({ url, description }) => ({ url, description }))
---
<DocLayout
  title="PhotoRoll"
  description="A component to display images and scroll through them"
  items={components}
>
  <PropsTable props={propsTable} />
  <PropsTable title="Style variables" props={styleVars} />

  <div class="preview-grid">
    <Preview title="Using the images props array" code={`
********************************************************************
ALL DEMOS ON THIS PAGE GET DATA FROM
const photoroll = await fetch("https://boringapi.com/api/v1/photos");
const data = await photoroll.json();
Use images props array is better. Prefer it to use slots
********************************************************************

// const imagesArray=data.photos.map(({ url, description }) => ({ url, description }))

<PhotoRoll
      images={imagesArray}
/>
`}>
    <PhotoRoll
      images={imagesArray}
    />
    </Preview>





    <Preview title="Default" code={`
***********************************************
ADD CLASS in-photo-roll to all <Image> in slot. 
***********************************************
<PhotoRoll>
  {data.photos.map((photo,idx) => (
    <Image src={photo.url} alt={photo.description} class="in-photo-roll" /> 
  ))}
</PhotoRoll>
`}>
      <PhotoRoll>
        {data.photos.map((photo,idx) => (
          <Image src={photo.url} alt={photo.description} class="in-photo-roll" /> 
        ))}
      </PhotoRoll>
    </Preview>




    <Preview title="Orientation vertical and buttons" code={`
<PhotoRoll
  orientation="vertical"
>
  {data.photos.map((photo,idx) => (
    <Image src={photo.url} alt={photo.description} class="in-photo-roll" /> 
  ))}
</PhotoRoll>
`}>
      
      <PhotoRoll
      orientation="vertical"
      showNextButton={true}
      showBullets={true}
      >
        {data.photos.map((photo,idx) => (
          <Image src={photo.url} alt={photo.description} class="in-photo-roll" /> 
        ))}
      </PhotoRoll>
    </Preview>







        <Preview title="Autoplay" code={`
<PhotoRoll
  orientation="vertical"
>
  {data.photos.map((photo,idx) => (
    <Image src={photo.url} alt={photo.description} class="in-photo-roll" /> 
  ))}
</PhotoRoll>
`}>
      
      <PhotoRoll
        autoplay={true}
      >
        {data.photos.map((photo,idx) => (
          <Image src={photo.url} alt={photo.description} class="in-photo-roll" /> 
        ))}
      </PhotoRoll>
    </Preview>





    
    <Preview title="It works with Other components too ! " code={`
************************
Add class in-photo-roll 
************************

<PhotoRoll>
  {data.photos.map((photo,idx) => (
      <Hero
        title={photo.title}
        body={photo.description}
        img={photo.url}
        class="in-photo-roll"
        />
    ))}
    <ContactForm
      heading = "Yes! It works with forms !" 
      description="I can't think of a case where we would want to hide a form inside that shit but who the fuck am I to judge? You want it you get it."
      class="in-photo-roll"
      />
  ))}
</PhotoRoll>`}>
      <PhotoRoll
      >
        {data.photos.slice(-2).map((photo,idx) => (
         <Hero
            title={photo.title}
            body={photo.description}
            img={photo.url}
            class="in-photo-roll"
            />
        ))}
        <ContactForm
          heading = "Yes! It works with forms !" 
          description="I can't think of a case where we would want to hide a form inside that shit but who the fuck am I to judge? You want it you get it."
          class="in-photo-roll"
          />
      </PhotoRoll>
    </Preview>
  </div>
</DocLayout>
