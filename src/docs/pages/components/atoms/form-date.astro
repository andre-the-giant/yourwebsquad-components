---
import DocLayout from "@docs/layouts/DocLayout.astro";
import Preview from "@docs/components/Preview.astro";
import PropsTable from "@docs/components/PropsTable.astro";
import { components } from "@docs/data/components.js";
import FormDate from "@lib/components/Form-Date/Form-Date.astro";

const basicCode = `<FormDate label="Birthday" id="birthday" />`;
const statesCode = `<FormDate label="Range limited" id="date-range" min="2024-01-01" max="2024-12-31" />
<FormDate label="Disabled date" id="disabled-date" disabled />`;
const cssVarCode = `<FormDate label="Custom border" style="--form-input-border: 1px solid #0d6ea8; --form-input-padding: 0.8rem 1rem;" />`;

const props = [
  { name: "id", type: "string", description: "Input id; auto-generated if missing." },
  { name: "class", type: "string", description: "Wrapper class names." },
  { name: "style", type: "string", description: "Inline styles or CSS var overrides." },
  { name: "name", type: "string", description: "Form field name." },
  { name: "label", type: "string", description: "Label text." },
  { name: "placeholder", type: "string", description: "Placeholder text." },
  { name: "value", type: "string", description: "Initial value (YYYY-MM-DD)." },
  { name: "min", type: "string", description: "Minimum date (YYYY-MM-DD)." },
  { name: "max", type: "string", description: "Maximum date (YYYY-MM-DD)." },
  { name: "disabled", type: "boolean", default: "false", description: "Disable input." },
  { name: "readonly", type: "boolean", default: "false", description: "Read-only input." },
  {
    name: "required",
    type: "boolean",
    default: "false",
    description: "Mark required; adds asterisk."
  },
  { name: "ariaLabel", type: "string", description: "aria-label fallback when no label." },
  { name: "ariaDescribedBy", type: "string", description: "IDs to include in aria-describedby." },
  { name: "helpId", type: "string", description: "Help text id to append to aria-describedby." },
  { name: "errorId", type: "string", description: "Error text id to append to aria-describedby." },
  {
    name: "ariaInvalid",
    type: "boolean",
    default: "false",
    description: 'Sets aria-invalid="true".'
  },
  { name: "ariaControls", type: "string", description: "Optional aria-controls id." }
];
---

<DocLayout
  title="Form-Date"
  description="Native date input with label and states."
  items={components}
>
  <PropsTable props={props} />

  <Preview title="Basic" code={basicCode}>
    <div class="row">
      <FormDate label="Birthday" id="birthday" />
    </div>
  </Preview>

  <Preview title="States" code={statesCode}>
    <div class="row">
      <FormDate label="Range limited" id="date-range" min="2024-01-01" max="2024-12-31" />
      <FormDate label="Disabled date" id="disabled-date" disabled />
    </div>
  </Preview>

  <Preview title="CSS variables" code={cssVarCode}>
    <div class="row">
      <FormDate
        label="Custom border"
        style="--form-input-border: 1px solid #0d6ea8; --form-input-padding: 0.8rem 1rem;"
      />
    </div>
  </Preview>
</DocLayout>

<style>
  .row {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    width: 100%;
  }
</style>
