---
import DocLayout from "../../../layouts/DocLayout.astro";
import Preview from "../../../components/Preview.astro";
import PropsTable from "../../../components/PropsTable.astro";
import { components } from "../../../data/components.js";
import List from "@lib/components/List/List.astro";

const basicItems = ["First item", "Second item", "Third item"];
const iconItems = [
  { label: "Design audit", icon: "spark" },
  { label: "Content refresh", icon: "spark" },
  { label: "Performance fixes", icon: "spark" }
];
const numberedItems = ["Kickoff", "Draft", "Launch"];
const nestedCode = `<List>
  <li>
    Discovery
    <List items={["Subitem A", "Subitem B"]} />
  </li>
  <li>Build</li>
  <li>QA</li>
</List>`;
const cssVarCode = `<List items={["A", "B", "C"]} style="--list-gap: 1.25rem; --list-num-bg: rgba(13,110,168,0.1); --list-num-color: #0d6ea8;" />`;

const props = [
  { name: "id", type: "string", description: "Optional id for the list." },
  { name: "class", type: "string", description: "Additional className." },
  { name: "style", type: "string", description: "Inline styles or CSS var overrides." },
  { name: "as", type: `"ul" | "ol"`, default: '"ul"', description: "List tag." },
  {
    name: "items",
    type: "Array<string | { label: string; icon?: string }>",
    description: "Items to render (can also slot custom li)."
  },
  { name: "icon", type: "string", description: "Registry icon name for bullets." },
  { name: "showIcon", type: "boolean", description: "Force icon bullets on UL." },
  {
    deprecated: true,
    name: "numberStyle",
    type: "{ color?, background?, weight?, size?, radius? }",
    description: "Deprecated â€” use style vars (--list-num-*)."
  },
  { name: "gap", type: "string", description: "Row gap between items." },
  { name: "lineHeight", type: "string", description: "Line-height for list text." },
  { name: "start", type: "number", description: "Starting index for ordered list." },
  { name: "reversed", type: "boolean", description: "Reverse ordered list." },
  { name: "type", type: `"1" | "a" | "A" | "i" | "I"`, description: "Ordered list type." }
];

const styleVars = [
  { name: "--list-gap", description: "Row gap between items.", default: "var(--space-2)" },
  { name: "--list-line", description: "Line-height for text.", default: "var(--line-normal)" },
  { name: "--list-num-color", description: "Number/bullet color.", default: "currentColor" },
  { name: "--list-num-bg", description: "Number background.", default: "transparent" },
  {
    name: "--list-num-weight",
    description: "Number font weight.",
    default: "var(--weight-semibold)"
  },
  { name: "--list-num-size", description: "Number font size.", default: "var(--size-sm)" },
  { name: "--list-num-radius", description: "Number badge radius.", default: "999px" }
];
---

<DocLayout
  title="List"
  description={"Lists, unordered or ordered, with custom bullets or styled numbers."}
  items={components}
>
  <PropsTable props={props} />
  <PropsTable title="Style variables" props={styleVars} />

  <Preview title="Basic UL" code={`<List items={${JSON.stringify(basicItems, null, 2)}} />`}>
    <List items={basicItems} />
  </Preview>

  <Preview
    title="Icon bullets"
    code={`<List items={${JSON.stringify(iconItems, null, 2)}} showIcon />`}
  >
    <List items={iconItems} showIcon />
  </Preview>

  <Preview
    title="Ordered with styled numbers"
    code={`<List as="ol" items={${JSON.stringify(numberedItems, null, 2)}} style="--list-num-bg: rgba(47,95,164,0.1); --list-num-color: rgb(47,95,164);" />`}
  >
    <List
      as="ol"
      items={numberedItems}
      style="--list-num-bg: rgba(47,95,164,0.1); --list-num-color: rgb(47,95,164);"
    />
  </Preview>

  <Preview title="Nested list" code={nestedCode}>
    <List>
      <li>
        Discovery
        <List items={["Nested A", "Nested B"]} />
      </li>
      <li>Build</li>
      <li>QA</li>
    </List>
  </Preview>

  <Preview title="CSS variables" code={cssVarCode}>
    <List
      items={["A", "B", "C"]}
      style="--list-gap: 1.25rem; --list-num-bg: rgba(13,110,168,0.1); --list-num-color: #0d6ea8;"
    />
  </Preview>
</DocLayout>
