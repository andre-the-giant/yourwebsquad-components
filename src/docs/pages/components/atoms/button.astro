---
import DocLayout from "@docs/layouts/DocLayout.astro";
import Preview from "@docs/components/Preview.astro";
import PropsTable from "@docs/components/PropsTable.astro";
import { components } from "@docs/data/components.js";
import Button from "@lib/components/Button/Button.astro";

const solidCode = `<Button label="Start a project" />`;
const outlineCode = `<Button label="View case study" href="/case-studies" variant="outline" />`;
const ghostCode = `<Button label="Contact" variant="ghost" />`;
const sizesCode = `<Button label="XS" size="xs" />\n<Button label="Small" size="sm" />\n<Button label="Medium" size="md" />\n<Button label="Large" size="lg" />`;
const stylesCode = `<Button label="Accent override" style="--color-accent: #e85d04; --color-accent-contrast: #0b090a;" />`;

const props = [
  { name: "id", type: "string", description: "Optional id for the root element." },
  { name: "class", type: "string", description: "Additional class names." },
  { name: "style", type: "string", description: "Inline styles or CSS var overrides." },
  { name: "label", type: "string", default: '"Button"', description: "Button text." },
  { name: "href", type: "string", description: "When set renders an anchor." },
  { name: "target", type: "string", description: "Link target (e.g., _blank)." },
  {
    name: "rel",
    type: "string",
    default: "auto '_blank'â†’'noreferrer'",
    description: "Rel attribute for links."
  },
  {
    name: "variant",
    type: `"solid" | "outline" | "ghost"`,
    default: '"solid"',
    description: "Visual style."
  },
  {
    name: "size",
    type: `"xs" | "sm" | "md" | "lg"`,
    default: '"md"',
    description: "Padding and font sizing."
  },
  {
    name: "type",
    type: `"button" | "submit" | "reset"`,
    default: '"button"',
    description: "Native button type."
  },
  { name: "disabled", type: "boolean", default: "false", description: "Disables button/anchor." }
];

const styleVars = [
  { name: "--button-font", default: "var(--font-body)", description: "Font family." },
  { name: "--button-solid-bg", default: "var(--color-accent)", description: "Solid background." },
  {
    name: "--button-solid-fg",
    default: "var(--color-accent-contrast)",
    description: "Solid text color."
  },
  {
    name: "--button-solid-border",
    default: "var(--color-accent)",
    description: "Solid border color."
  },
  {
    name: "--button-solid-shadow",
    default: "0 12px 25px color-mix(in srgb, var(--color-accent) 35%, transparent)",
    description: "Solid shadow."
  },
  { name: "--button-outline-bg", default: "transparent", description: "Outline background." },
  {
    name: "--button-outline-fg",
    default: "var(--color-accent)",
    description: "Outline text color."
  },
  {
    name: "--button-outline-border",
    default: "var(--color-accent)",
    description: "Outline border color."
  },
  {
    name: "--button-outline-hover-bg",
    default: "var(--color-accent-muted)",
    description: "Outline hover background."
  },
  {
    name: "--button-outline-hover-fg",
    default: "var(--color-accent)",
    description: "Outline hover text."
  },
  { name: "--button-ghost-bg", default: "transparent", description: "Ghost background." },
  { name: "--button-ghost-fg", default: "var(--color-fg)", description: "Ghost text color." },
  { name: "--button-ghost-border", default: "transparent", description: "Ghost border." },
  {
    name: "--button-ghost-hover-bg",
    default: "var(--color-accent-muted)",
    description: "Ghost hover background."
  },
  {
    name: "--button-ghost-hover-fg",
    default: "var(--color-accent)",
    description: "Ghost hover text."
  },
  { name: "--button-focus", default: "var(--color-focus)", description: "Focus outline color." },
  { name: "--button-disabled-opacity", default: "0.6", description: "Disabled opacity." }
];
---

<DocLayout
  title="Button"
  description="Action trigger for forms, navigation, and CTAs."
  items={components}
>
  <PropsTable props={props} />
  <PropsTable title="Style variables" props={styleVars} />

  <Preview
    title="Solid"
    code={`
  <div class="row">
      <Button label="Start a project" />
      <Button label="Secondary" variant="outline" />
    </div>`}
  >
    <div class="row">
      <Button label="Start a project" />
      <Button label="Secondary" variant="outline" />
    </div>
  </Preview>

  <Preview title="Outline" code={outlineCode}>
    <div class="row">
      <Button label="View case study" href="/case-studies" variant="outline" />
    </div>
  </Preview>

  <Preview title="Ghost" code={ghostCode}>
    <div class="row">
      <Button label="Contact" variant="ghost" />
    </div>
  </Preview>

  <Preview title="Sizes" code={sizesCode}>
    <div class="row">
      <Button label="XS" size="xs" />
      <Button label="Small" size="sm" />
      <Button label="Medium" size="md" />
      <Button label="Large" size="lg" />
    </div>
  </Preview>

  <Preview title="CSS vars" code={stylesCode}>
    <div class="row">
      <Button
        label="Accent override"
        style="--color-accent: #e85d04; --color-accent-contrast: #0b090a;"
      />
    </div>
  </Preview>
</DocLayout>

<style>
  .row {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
    align-items: center;
  }
</style>
