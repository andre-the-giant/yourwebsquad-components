---
/*
Props:
- content?: { name?: string, label?: string }
- name?: string
- label?: string
- size?: "sm" | "md" | "lg"
Notes:
- direct props override content.*
- set label to expose aria-label; otherwise icon is aria-hidden
*/
const {
  content = {},
  name,
  label,
  size = "md"
} = Astro.props;

const resolvedName = name ?? content.name ?? "spark";
const resolvedLabel = label ?? content.label;
const sizeMap = {
  sm: "16px",
  md: "24px",
  lg: "32px"
};
const iconSize = sizeMap[size] ?? sizeMap.md;
---
<svg
  class="icon"
  width={iconSize}
  height={iconSize}
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="1.8"
  stroke-linecap="round"
  stroke-linejoin="round"
  role={resolvedLabel ? "img" : "presentation"}
  aria-hidden={resolvedLabel ? undefined : "true"}
  aria-label={resolvedLabel}
>
  {resolvedLabel && <title>{resolvedLabel}</title>}
  {resolvedName === "spark" && (
    <path d="M12 2l2.2 5.8L20 10l-5.8 2.2L12 18l-2.2-5.8L4 10l5.8-2.2L12 2z" />
  )}
  {resolvedName === "arrow-right" && (
    <>
      <path d="M5 12h14" />
      <path d="M13 6l6 6-6 6" />
    </>
  )}
  {resolvedName === "grid" && (
    <>
      <rect x="4" y="4" width="7" height="7" rx="1.5" />
      <rect x="13" y="4" width="7" height="7" rx="1.5" />
      <rect x="4" y="13" width="7" height="7" rx="1.5" />
      <rect x="13" y="13" width="7" height="7" rx="1.5" />
    </>
  )}
</svg>

<style>
  .icon {
    display: inline-flex;
    color: var(--color-fg);
  }
</style>
